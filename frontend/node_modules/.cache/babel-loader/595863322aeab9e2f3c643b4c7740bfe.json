{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nfunction useForm(_ref) {\n  _s();\n  let {\n    form,\n    endpointUrl\n  } = _ref;\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [label, setLabel] = useState(\"\");\n  const [edibility, setEdibility] = useState(\"\");\n  const [percentage, setPercentage] = useState(\"\");\n  const handleSubmit = e => {\n    if (form) {\n      e.preventDefault();\n      setStatus(\"loading\");\n      setMessage(\"\");\n      const finalFormEndpoint = endpointUrl || form.action;\n      const data = Array.from(form.elements).filter(input => input.name).reduce((obj, input) => Object.assign(obj, {\n        [input.name]: input.value\n      }), {});\n      console.debug(data);\n      fetch(finalFormEndpoint, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(res => res.json()).then(data => {\n        console.log(data);\n        setMessage(\"We'll be in touch soon.\");\n        setStatus(\"success\");\n        setLabel(data.label);\n        setEdibility(data.edibility);\n        setPercentage(data.percentage);\n      }).catch(err => {\n        setMessage(err.toString());\n        setStatus(\"error\");\n      });\n    }\n  };\n  return {\n    handleSubmit,\n    status,\n    message,\n    label,\n    edibility,\n    percentage\n  };\n}\n_s(useForm, \"J2bxFcEj6FVVIpoh0QNuG1H/V14=\");\nexport default useForm;","map":{"version":3,"names":["useState","useForm","form","endpointUrl","status","setStatus","message","setMessage","label","setLabel","edibility","setEdibility","percentage","setPercentage","handleSubmit","e","preventDefault","finalFormEndpoint","action","data","Array","from","elements","filter","input","name","reduce","obj","Object","assign","value","console","debug","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","log","catch","err","toString"],"sources":["/Users/adamfagan/Documents/skola/AS/riesenie/client/src/UseForm.js"],"sourcesContent":["import { useState } from \"react\";\n\nfunction useForm({ form, endpointUrl }) {\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [label, setLabel] = useState(\"\");\n  const [edibility, setEdibility] = useState(\"\");\n  const [percentage, setPercentage] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    if (form) {\n      e.preventDefault();\n      setStatus(\"loading\");\n      setMessage(\"\");\n\n      const finalFormEndpoint = endpointUrl || form.action;\n      const data = Array.from(form.elements)\n        .filter((input) => input.name)\n        .reduce(\n          (obj, input) => Object.assign(obj, { [input.name]: input.value }),\n          {}\n        );\n\n        console.debug(data)\n\n      fetch(finalFormEndpoint, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n            console.log(data)\n          setMessage(\"We'll be in touch soon.\");\n          setStatus(\"success\");\n          setLabel(data.label);\n          setEdibility(data.edibility);\n          setPercentage(data.percentage);\n        })\n        .catch((err) => {\n          setMessage(err.toString());\n          setStatus(\"error\");\n        });\n    }\n  };\n\n  return { handleSubmit, status, message, label, edibility, percentage };\n}\n\nexport default useForm;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,SAASC,OAAO,OAAwB;EAAA;EAAA,IAAvB;IAAEC,IAAI;IAAEC;EAAY,CAAC;EACpC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAEhD,MAAMc,YAAY,GAAIC,CAAC,IAAK;IAC1B,IAAIb,IAAI,EAAE;MACRa,CAAC,CAACC,cAAc,EAAE;MAClBX,SAAS,CAAC,SAAS,CAAC;MACpBE,UAAU,CAAC,EAAE,CAAC;MAEd,MAAMU,iBAAiB,GAAGd,WAAW,IAAID,IAAI,CAACgB,MAAM;MACpD,MAAMC,IAAI,GAAGC,KAAK,CAACC,IAAI,CAACnB,IAAI,CAACoB,QAAQ,CAAC,CACnCC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC,CAC7BC,MAAM,CACL,CAACC,GAAG,EAAEH,KAAK,KAAKI,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;QAAE,CAACH,KAAK,CAACC,IAAI,GAAGD,KAAK,CAACM;MAAM,CAAC,CAAC,EACjE,CAAC,CAAC,CACH;MAEDC,OAAO,CAACC,KAAK,CAACb,IAAI,CAAC;MAErBc,KAAK,CAAChB,iBAAiB,EAAE;QACvBiB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACPC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACpB,IAAI;MAC3B,CAAC,CAAC,CACCqB,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAErB,IAAI,IAAK;QACZY,OAAO,CAACY,GAAG,CAACxB,IAAI,CAAC;QACnBZ,UAAU,CAAC,yBAAyB,CAAC;QACrCF,SAAS,CAAC,SAAS,CAAC;QACpBI,QAAQ,CAACU,IAAI,CAACX,KAAK,CAAC;QACpBG,YAAY,CAACQ,IAAI,CAACT,SAAS,CAAC;QAC5BG,aAAa,CAACM,IAAI,CAACP,UAAU,CAAC;MAChC,CAAC,CAAC,CACDgC,KAAK,CAAEC,GAAG,IAAK;QACdtC,UAAU,CAACsC,GAAG,CAACC,QAAQ,EAAE,CAAC;QAC1BzC,SAAS,CAAC,OAAO,CAAC;MACpB,CAAC,CAAC;IACN;EACF,CAAC;EAED,OAAO;IAAES,YAAY;IAAEV,MAAM;IAAEE,OAAO;IAAEE,KAAK;IAAEE,SAAS;IAAEE;EAAW,CAAC;AACxE;AAAC,GAhDQX,OAAO;AAkDhB,eAAeA,OAAO"},"metadata":{},"sourceType":"module"}