{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nfunction useForm(_ref) {\n  _s();\n  let {\n    form,\n    additionalData,\n    endpointUrl\n  } = _ref;\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const handleSubmit = e => {\n    if (form) {\n      e.preventDefault();\n      setStatus(\"loading\");\n      setMessage(\"\");\n      const finalFormEndpoint = endpointUrl || form.action;\n      const data = Array.from(form.elements).filter(input => input.name).reduce((obj, input) => Object.assign(obj, {\n        [input.name]: input.value\n      }), {});\n      fetch(finalFormEndpoint, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(response => {\n        if (response.status !== 200) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      }).then(() => {\n        setMessage(\"We'll be in touch soon.\");\n        setStatus(\"success\");\n      }).catch(err => {\n        setMessage(err.toString());\n        setStatus(\"error\");\n      });\n    }\n  };\n  return {\n    handleSubmit,\n    status,\n    message\n  };\n}\n_s(useForm, \"k3INLmPyJR7pqClv/jBr3dMhcH0=\");\nexport default useForm;","map":{"version":3,"names":["useState","useForm","form","additionalData","endpointUrl","status","setStatus","message","setMessage","handleSubmit","e","preventDefault","finalFormEndpoint","action","data","Array","from","elements","filter","input","name","reduce","obj","Object","assign","value","fetch","method","headers","Accept","body","JSON","stringify","then","response","Error","statusText","json","catch","err","toString"],"sources":["/Users/adamfagan/Documents/skola/AS/riesenie/client/src/UseForm.js"],"sourcesContent":["import { useState } from \"react\";\n\nfunction useForm({ form, additionalData, endpointUrl }) {\n  const [status, setStatus] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    if (form) {\n      e.preventDefault();\n      setStatus(\"loading\");\n      setMessage(\"\");\n\n      const finalFormEndpoint = endpointUrl || form.action;\n      const data = Array.from(form.elements)\n        .filter((input) => input.name)\n        .reduce(\n          (obj, input) => Object.assign(obj, { [input.name]: input.value }),\n          {}\n        );\n\n      fetch(finalFormEndpoint, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      })\n        .then((response) => {\n          if (response.status !== 200) {\n            throw new Error(response.statusText);\n          }\n\n          return response.json();\n        })\n        .then(() => {\n          setMessage(\"We'll be in touch soon.\");\n          setStatus(\"success\");\n        })\n        .catch((err) => {\n          setMessage(err.toString());\n          setStatus(\"error\");\n        });\n    }\n  };\n\n  return { handleSubmit, status, message };\n}\n\nexport default useForm;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,SAASC,OAAO,OAAwC;EAAA;EAAA,IAAvC;IAAEC,IAAI;IAAEC,cAAc;IAAEC;EAAY,CAAC;EACpD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMS,YAAY,GAAIC,CAAC,IAAK;IAC1B,IAAIR,IAAI,EAAE;MACRQ,CAAC,CAACC,cAAc,EAAE;MAClBL,SAAS,CAAC,SAAS,CAAC;MACpBE,UAAU,CAAC,EAAE,CAAC;MAEd,MAAMI,iBAAiB,GAAGR,WAAW,IAAIF,IAAI,CAACW,MAAM;MACpD,MAAMC,IAAI,GAAGC,KAAK,CAACC,IAAI,CAACd,IAAI,CAACe,QAAQ,CAAC,CACnCC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC,CAC7BC,MAAM,CACL,CAACC,GAAG,EAAEH,KAAK,KAAKI,MAAM,CAACC,MAAM,CAACF,GAAG,EAAE;QAAE,CAACH,KAAK,CAACC,IAAI,GAAGD,KAAK,CAACM;MAAM,CAAC,CAAC,EACjE,CAAC,CAAC,CACH;MAEHC,KAAK,CAACd,iBAAiB,EAAE;QACvBe,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACPC,MAAM,EAAE,kBAAkB;UAC1B,cAAc,EAAE;QAClB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAClB,IAAI;MAC3B,CAAC,CAAC,CACCmB,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAAC7B,MAAM,KAAK,GAAG,EAAE;UAC3B,MAAM,IAAI8B,KAAK,CAACD,QAAQ,CAACE,UAAU,CAAC;QACtC;QAEA,OAAOF,QAAQ,CAACG,IAAI,EAAE;MACxB,CAAC,CAAC,CACDJ,IAAI,CAAC,MAAM;QACVzB,UAAU,CAAC,yBAAyB,CAAC;QACrCF,SAAS,CAAC,SAAS,CAAC;MACtB,CAAC,CAAC,CACDgC,KAAK,CAAEC,GAAG,IAAK;QACd/B,UAAU,CAAC+B,GAAG,CAACC,QAAQ,EAAE,CAAC;QAC1BlC,SAAS,CAAC,OAAO,CAAC;MACpB,CAAC,CAAC;IACN;EACF,CAAC;EAED,OAAO;IAAEG,YAAY;IAAEJ,MAAM;IAAEE;EAAQ,CAAC;AAC1C;AAAC,GA7CQN,OAAO;AA+ChB,eAAeA,OAAO"},"metadata":{},"sourceType":"module"}